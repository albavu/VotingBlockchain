<html>

<head>
    <title>Blockchain</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>

<body>
    <main>
        <div class="container">
            <div class="row">
                <div class="col">
                    <h1 class="m-4">
                        Decide hacia donde va tu dinero!
                    </h1>
                    <div class="card">
                        <div class="card-body m-4">
                            <form action="/" method="POST" enctype="multipart/form-data">
                                <label for="dni">DNI</label>
                                <input type="text" class="form-control" name="dni" id="dni" placeholder="01234567">
                                <div class="form-group  m-4">
                                    <label for="payment_type">Selecciona la cantidad que quieres pagar</label>
                                    <select class="form-control" id="payment_type" name="payment-type">
                                        <option value="1">10€</option>
                                        <option value="2">20€</option>
                                        <option value="3">50€</option>
                                        <option value="4">100€</option>
                                        <option value="5">200€</option>
                                    </select>
                                </div>
                                <div class="form-group m-4">
                                    <label for="option_type">Elige la opción hacia donde quieres destinar tu dinero</label>
                                    <select class="form-control" id="option_type" name="option-type">
                                        <option value="1">Opcion 1 - Mejora del pavimento</option>
                                        <option value="2">Opcion 2 - Material para colegios públicos</option>
                                        <option value="3">Opcion 3 - Material sanitario</option>
                                        <option value="4">Opcion 4 - Mejorar el sistema de reciclaje</option>
                                        <option value="5">Opcion 5 - </option>
                                    </select>
                                </div>
                                <button type="submit" class="btn btn-danger m-4">Pagar</button>
                            </form>
                        </div>
                    </div>
                    <hr>
                    <div class="container m-4">
                        <h1>
                            {% if num_personas > 0 %}
                            <div class="card">
                                <h1>Han pagado {{ num_personas }} personas</h1>
                            </div>
                            {% endif %}
                        </h1>
                    </div>
                    <div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Cromosoma (hg19)</th>
                                    <th scope="col">Posición hg19(1-based)</th>
                                    <th scope="col">Base de Referencia</th>
                                    <th scope="col">Base alternativa</th>
                                    <th scope="col">Aminoácido de referencia</th>
                                    <th scope="col">Aminoácido alternativo</th>
                                    <th scope="col">Predicción</th>
                                    <th scope="col" data-bs-toggle="tooltip" data-bs-placement="top" title="Más cercanos a 0 son benignos, más cercanos a 1 son patógenos.">ClinPred score</th>
                                    <th scope="col" data-bs-toggle="tooltip" data-bs-placement="top" title="Rango: -1,11707 a 0,750927. Cuanto mayor sea la puntuación, más probable es que la variante sea patógena. Se sugiere un corte entre deletéreo ('D') y tolerante ('T') en 0,0692655.">BayesDel_addAF score</th>
                                    <th scope="col" data-bs-toggle="tooltip" data-bs-placement="top" title="Rango: -1,31914 a 0,840878. Cuanto mayor sea la puntuación, más probable es que la variante sea patógena. Se sugiere un corte entre perjudicial ('D') y tolerado ('T') es -0,0570105.">BayesDel_noAF score</th>
                                    <th scope="col">Consecuencia más severa</th>
                                    <th scope="col">Consecuencias de la transcripción</th>
                                </tr>
                            </thead>
                            <tbody id="MyTable">
                                {% set count = namespace(value=0) %} {% for item in args['my_data'] %}
                                <tr class="{{ item.code }}">
                                    <td>Cromosoma {{ item.hg19_chr }}</td>
                                    <td>{{ item.hg19_pos }}</td>
                                    <td>{{ item.ref }}</td>
                                    <td>{{ item.alt }}</td>
                                    <td>{{ item.aaref }}</td>
                                    <td>{{ item.aaalt }}</td>
                                    <td>{{ item.prediction }}</td>
                                    <td>{{ item.ClinPred_Score }}</td>
                                    <td>{{ item.BayesDel_addAF_score }}</td>
                                    <td>{{ item.BayesDel_noAF_score }}</td>
                                    <td>{{ item.most_severe_consequence }}</td>
                                    {% if item.transcript_consequences != "Sin datos" %}
                                    <td>
                                        <button type="button" class="btn btn-info" onclick="showConsequences('{{ count.value }}')">Ver más</button>
                                    </td>
                                    {% else %}
                                    <td>Sin datos</td>
                                    {% endif %}
                                </tr>
                                {% if item.transcript_consequences != "Sin datos" %} {% endif %} {% set count.value = count.value + 1 %} {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
</body>

</html>